/// @spec_ref: 5.7
/// @point_id: 5_7_break_continue
/// @case_id: 5_7_break_continue__core_pass
/// @expect: pass
/// @boundary: core
/// @phase: sema
/// @diag_codes:
/// @diag_keywords:
// break 和 continue — 验证退出循环、跳过迭代、带标签 break

func main() -> i32 {
    // break：提前退出 for
    var sum: i32 = 0
    for i in [1, 2, 3, 4, 5] {
        if i == 4 {
            break
        }
        sum += i
    }
    @assert(sum == 6, "5.7 break: sum stops at 3")

    // continue：跳过偶数
    var odd_sum: i32 = 0
    var j: i32 = 0
    while j < 10 {
        j += 1
        if j % 2 == 0 {
            continue
        }
        odd_sum += j
    }
    @assert(odd_sum == 25, "5.7 continue: odd sum 1+3+5+7+9")

    // 带标签 break 跳出嵌套循环
    var outer_count: i32 = 0
    var inner_count: i32 = 0
    var done: bool = false
    var oi: i32 = 0
    outer: while oi < 10 {
        var ii: i32 = 0
        while ii < 10 {
            outer_count += 1
            inner_count += 1
            if outer_count == 6 {
                done = true
                break outer
            }
            ii += 1
        }
        oi += 1
    }
    @assert(done, "5.7 labeled break: exited outer")
    @assert(outer_count == 6, "5.7 labeled break: count at exit")

    return 0
}
